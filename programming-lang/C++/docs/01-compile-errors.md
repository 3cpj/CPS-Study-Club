# 編譯與報錯
為了讓編程語言更貼近人類的語言，高級程式碼都是由機器碼包裝而成的。而讓機器理解我們的指令，我們需要把程式碼編譯成能讓機器識別的機器碼。這裡會解釋什麼是編譯語言以及當中的原理，與其相對的直譯語言的介紹。還有不同類型的報錯和如何去解決。

## 什麼是編譯語言
C與C++都是一個編譯語言，編譯語言在實行程式前，會先透過編譯器把程式的代碼全部編譯(compile)成電腦能看懂的機器碼再去執行程式。而相對的就是直譯語言，會在程式執行當中一行一行的直譯(interpret)成為機器碼。直譯語言可以讓開發者更彈性和快速的測試程式。只不過相較先把程式碼整個編譯再執行的編譯語言，直譯語言的執行速度就慢了不少。

## 編譯語言的過程
編譯語言在執行程式碼前需要經過主要四個步驟，包括預處理、編譯、匯編、鏈接。
### 預處理
預處理的過程會 1) 把所有的預編譯指令 `#`相對應的處理，例如 `#include`會把被包含的頭文件插入該編譯指令的位置。這也是一個遞歸的過程，因為頭文件也可能會包含了其他的文件。 2) 刪除所有的注釋`//`, `/**/`。 3) 把所有的宏定義`#define`變量的值代入程式碼裡所有的宏變量裡，然後刪除。

我們可以利用簡單的指令去驗證，先創建一個C++的程式檔案，利用指令的選項去只執行預處理的步驟，這樣就可以看到預處理後的程式碼。
```cpp
// test.cpp
#include<iostream>

int main() {
    std::cout << "Hello World!" << std::endl;
    return 0;
}
```
```console
g++ -E ./test.cpp
```

### 編譯與匯編
編譯的過程就是把預處理後的文件進行語法分析以及優化後的匯編碼的文件，這些文件稱為中間代碼（字節碼）。然後等待被匯編。當編譯成功後，匯編器會將由編譯生成的匯編代碼逐步轉換成機器碼（目標文件）。
### 鏈接
鏈接器會把編譯器產生的各個目標文件鏈接起來，把還沒定義標識符引用替換成對應的地址。然後產生可執行的檔案。

---